1.demo/src/main/java/database/function.java

package database.a1;

import java.util.Scanner;
import javax.xml.crypto.Data;
import org.influxdb.*;
import org.influxdb.dto.Query;

@Controller
@RequestMapping(value = "/test")

public class DBTest {

	@GetMapping
	public static void main(String[] args) {
		// io

		// TODO Auto-generated method stub
		InfluxDB influxDB = InfluxDBFactory.connect("http://127.0.0.1:8086", "root", "root");
		String dbName = "test";
		influxDB.query(new Query("CREATE DATABASE " + dbName));
		String rpName = "aRetentionPolicy";
		influxDB.query(new Query("CREATE RETENTION POLICY " + rpName + " ON " + dbName + " DURATION 30h REPLICATION 2 DEFAULT"));
		
		final int columnNum = 15;
		final boolean dataCount = false;
		
		Scanner scanner = new Scanner (new FileReader("C:\\GSPIA\\Database\\AirQualityUCI\\AirQualityUCI.csv"));
		while(scanner.hasNextLine())
		{
			if(dataCount == true)
			{
				line = scanner.nextLine();
				String[] array = line.split(",");
				String tempDate = array[0];
				String[] temp = array[0].split("/");
				String newDate = temp[2] + "-" + temp[0] + "-" + temp[1];
				array[0] = newDate;
				
				BatchPoints batchPoints = BatchPoints
		                .database(dbName)
		                .tag("async", "true")
		                .retentionPolicy(rpName)
		                .consistency(ConsistencyLevel.ALL)
		                .build();
				Point point1 = Point.measurement("cpu")
	                    .time(array[0] + "T" + array[1] + "Z")
	                    .addField("CO(GT)", array[2])
	                    .addField("PT08.S1(CO)", array[3])
	                    .addField("NMHC(GT)", array[4])
	                    .addField("C6H6(GT)", array[5])
	                    .addField("PT08.S2(NMHC)", array[6])
	                    .addField("NOx(GT)", array[7])
	                    .addField("PT08.S3(NOx)", array[8])
	                    .addField("NO2(GT)", array[9])
	                    .addField("PT08.S4(NO2)", array[10])
	                    .addField("PT08.S5(O3)", array[11])
	                    .addField("T", array[12])
	                    .addField("RH", array[13])
	                    .addField("AH", array[14])
	                    .build();
				batchPoints.point(point1);
				influxDB.write(batchPoints);
			}
			else
			{
				line = scanner.nextLine();
				String[] array = line.split(",");
				dataCount = true;
			}
		}
		
		
	}
	return;
}









2. demo/src/main/resources/newFile.html

<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Test</title>
</head>
<body>
	<h1>Hello</h1>
	<a herf="/test">load</a>	
</body>
</html>
